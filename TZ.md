# Техническое задание на проект: ConcertHunter

## 1. Название и концепция
**Тема проекта:** Агрегатор концертных анонсов для любителей музыки с целью покупки билетов в определённом городе.

**Цель проекта:**
Разработка веб-сервиса, автоматизирующего поиск культурных мероприятий. Сервис решает проблему ручного мониторинга афиш, позволяя пользователю создать персональную ленту подписок на артистов в привязке к интересующим локациям (городам). Система самостоятельно опрашивает внешние источники данных и уведомляет о появлении новых концертов.

## 2. Целевая аудитория и роли пользователей
**Целевая аудитория:**
Любители музыки, фанаты конкретных исполнителей и «музыкальные туристы», планирующие поездки на концерты.

**Роли:**
1.  **Гость:**
    *   Просмотр главной страницы (Landing page).
    *   Демо-поиск артиста через глобальную базу (без сохранения).
    *   Регистрация/Авторизация.
2.  **Зарегистрированный пользователь:**
    *   Ведение списка отслеживания (`Subscription`): добавление пар «Артист + Город».
    *   Просмотр персональной ленты событий (Dashboard).
    *   Использование интерактивной карты для визуализации географии концертов.
3.  **Администратор:**
    *   Управление пользователями и контентом через Django Admin.
    *   Запуск принудительного обновления данных из API.
    *   Просмотр статистики (общее количество отслеживаемых артистов и найденных событий).

## 3. Схема данных (Сущности)
Проект включает стандартную модель пользователя и 3 кастомные модели со связями:

### Модель 1: Artist (Исполнитель)
Справочник для кэширования данных об артистах, чтобы минимизировать запросы к API.
*   **name** (CharField): Имя исполнителя (например, "Metallica").
*   **tm_id** (CharField, unique): Уникальный ID в системе Ticketmaster.
*   **image_url** (URLField): Ссылка на официальное изображение.

### Модель 2: Subscription (Подписка)
Ключевая сущность, связывающая пользователя с объектом наблюдения.
*   **user** (ForeignKey): Пользователь сервиса.
*   **artist** (ForeignKey): Ссылка на модель Artist.
*   **city** (CharField): Локация для мониторинга (Город или Код страны).
*   **is_active** (BooleanField): Статус активности подписки.

### Модель 3: Event (Событие)
Найденный концерт.
*   **artist** (ForeignKey): Исполнитель.
*   **name** (CharField): Название тура/концерта.
*   **date** (DateTimeField): Дата и время начала.
*   **venue_name** (CharField): Площадка проведения.
*   **latitude / longitude** (FloatFields): Координаты для карты.
*   **ticket_url** (URLField): Ссылка на покупку билета.
*   **external_id** (CharField, unique): ID события во внешней системе (защита от дублей).

## 4. Ключевой функционал (User Stories)
1.  **Поиск и подписка:**
    Пользователь вводит название группы в форму поиска. Сервис обращается к API, находит артиста и предлагает подписаться, указав желаемый город (например, "London").
2.  **Автоматическая агрегация:**
    Фоновый процесс (Management Command) перебирает активные подписки, делает запросы к внешнему API и сохраняет новые найденные концерты в базу данных.
3.  **Визуализация на карте:**
    На странице «Мои концерты» пользователь видит интерактивную карту (Leaflet), на которой маркерами отмечены города, где пройдут концерты его любимых групп.
4.  **Фильтрация и покупка:**
    Пользователь просматривает список событий в виде карточек, может перейти по прямой ссылке для покупки билета у официального провайдера.

## 5. Технический стек и интеграции
*   **Backend:** Python 3.10+, Django 5.x.
*   **Database:** SQLite (Dev) / PostgreSQL (Prod).
*   **Внешний API:** **Ticketmaster Discovery API** (поиск артистов, поиск событий, геолокация).
*   **Frontend:** Bootstrap 5 (UI/UX), **Leaflet.js** (Интерактивные карты).
*   **Deploy:** PythonAnywhere.